    $(function() {

    function initSelect2(widget){
        var config = widget.data("select2config");

        // Update language from Backend
        config.language = {
          noResults: function(){
            return config.noResultFound;
          }
        };

        $(widget).select2(config);
    }

    window.ftwKeywordWidgetInitSelect2 = initSelect2;

    $(window).load(function(){
      if ($().select2 === undefined) {
          console.warn('You need to make sure, that select2 jquery plugin is loaded!');
      } else {
          var widget = $('#<tal:widgetid replace="view/id" />');
          initSelect2(widget);
      }
    });

    $(document).on("onLoad OverlayContentReloaded", ".overlay", function() {
      $('.keyword-widget:visible').each(function(indes, widget){
        ftwKeywordWidgetInitSelect2($(widget));
      });

      // select2 has issues to get right width of the placeholder element if the content is hidden and select2 gets initialized.
      // See https://github.com/select2/select2/issues/291
      var tabs = $('select.formTabs, ul.formTabs');
      tabs.on("click", function (e, index) {
        $('.keyword-widget:visible').each(function(indes, widget){
          ftwKeywordWidgetInitSelect2($(widget));
        });
      });


    });

});

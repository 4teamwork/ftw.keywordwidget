require(["jquery"],function(e){"use strict";var t=e.fn.select2||null;t&&delete e.fn.select2,require(["select2"],function(n){function i(){a("defaultResultTemplate",function(t){return function(n){return n.loading||n._resultId?n.text:e('<span class="newTag" />').text(n.text).append(e('<span class="newTagHint" />').text(t.data("select2config").i18n.label_new))}}),window.ftwKeywordWidget=c,e(document).trigger("ftwKeywordWidgetInit")}function a(t,n){return d.hasOwnProperty(t)?void console.warn("A template with the name '"+t+"' is already registered."):e.isFunction(n)?void(d[t]=n):void console.warn("The given template is not a function. A template needs to be a function.")}function o(e,t,n){return d.hasOwnProperty(e)?d[e](n):d.hasOwnProperty(t)?d[t](n):null}function l(e,t,n){n&&(e[t]=n)}function r(t){var n=t.data("select2config"),i=n.i18n,a=t.data("ajaxoptions"),o=t.data("templateselection"),r=t.data("templateresult");n.language={noResults:function(){return i.label_no_result},searching:function(){return i.label_searching},loadingMore:function(){return i.label_loading_more},inputTooShort:function(e){var t=e.minimum-e.input.length;return i.label_tooshort_prefix+t+i.label_tooshort_postfix}},n.placeholder=i.label_placeholder,l(n,"templateResult",c.getTemplate(r,"defaultResultTemplate",t)),l(n,"templateSelection",c.getTemplate(o,"defaultSelectionTemplate",t)),a&&(n.ajax={data:function(e){return{q:e.term,page:e.page||1}},processResults:function(e,t){return t.page=t.page||1,e},cache:!0},e.extend(n.ajax,a)),e(t).ftwKwWidgetSelect2(n).on("change",function(t){var n=e(this).parent().find('[id$="_new"]');if(0!==n.length){var i=e.map(e(this).find('[data-select2-tag="true"]'),function(e,t){return e.value}),a=e(this).data("select2").val()||[],o=e.map(i,function(e,t){if(-1!==a.indexOf(e))return e});n.val(o.join("\n"))}}).parent().addClass(n.tags?"select2tags":""),e(document).trigger("ftwKeywordWidgetInitWidget",[t])}e.fn.ftwKwWidgetSelect2=e.fn.select2;var c={},d={};return c.initWidget=r,c.registerTemplate=a,c.getTemplate=o,c.init=i,i(),e(".keyword-widget:visible").each(function(t,n){window.ftwKeywordWidget.initWidget(e(n))}),e("form.enableFormTabbing > nav.autotoc-nav a, select.formTabs a, ul.formTabs a").on("click",function(t,n){e(".keyword-widget:visible").each(function(t,n){window.ftwKeywordWidget.initWidget(e(n))})}),e(document).on("onLoad OverlayContentReloaded",".overlay",function(){e(".keyword-widget:visible").each(function(t,n){window.ftwKeywordWidget.initWidget(e(n))})}),e(document).on("focus",".select2-selection.select2-selection--single",function(t){e(this).parents(".select2-container").prev().ftwKwWidgetSelect2("open")}),t&&(delete e.fn.select2,e.fn.select2=t),c})}),define("keywordwidget_5.x",function(){});
//# sourceMappingURL=ftw-keywordwidget-compiled.js.map